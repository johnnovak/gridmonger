import glm

let profile0 = mat3(
  vec3(0.412391,  0.212639,  0.019331),
  vec3(0.357584,  0.715169,  0.119195),
  vec3(0.180481,  0.072192,  0.950532)
)

let toSrgb = mat3(
  vec3( 3.240970, -0.969244,  0.055630),
  vec3(-1.537383,  1.875968, -0.203977),
  vec3(-0.498611,  0.041555,  1.056972)
);

let toDci = mat3(
  vec3( 2.725394, -0.795168,  0.041242),
  vec3(-1.018003,  1.689732, -0.087639),
  vec3(-0.440163,  0.022647,  1.100929)
)

let toAdobe = mat3(
  vec3( 2.041588, -0.969244,  0.013444),
  vec3(-0.565007,  1.875968, -0.118360),
  vec3(-0.344731,  0.041555,  1.015175)
)

let toRec = mat3(
  vec3( 1.716651, -0.666684,  0.017640),
  vec3(-0.355671,  1.616481, -0.042771),
  vec3(-0.253366,  0.015769,  0.942103)
)


# { p = 2.4; m_out =  ToSRGB; } else
# { p = 2.6; m_out =  ToDCI;  } else
# { p = 2.2; m_out =  ToAdobe;} else
# { p = 2.4; m_out =  ToREC;  }

#	c = pow(c, vec3(p));

#	mat3 m_in = Profile0;

#	c = m_in * c;
#	c = m_out * c;

#	c = pow(c, vec3(1.0/p));

